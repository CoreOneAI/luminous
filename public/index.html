<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Luminous Salon & Spa</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }
    
    .phone-frame {
      width: 375px;
      height: 812px;
      background: #000;
      border-radius: 40px;
      padding: 10px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      position: relative;
      overflow: hidden;
    }
    
    .phone-screen {
      width: 100%;
      height: 100%;
      background: #fff;
      border-radius: 30px;
      overflow: hidden;
      position: relative;
      display: flex;
      flex-direction: column;
    }
    
    .app-bar {
      background: #000;
      color: #fff;
      height: 56px;
      display: flex;
      align-items: center;
      padding: 0 16px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .app-bar-title {
      flex: 1;
      text-align: center;
      font-size: 18px;
      font-weight: 600;
    }
    
    .scaffold-body {
      flex: 1;
      overflow-y: auto;
      background: #fafafa;
      position: relative;
    }
    
    .grid-view {
      padding: 8px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }
    
    .service-card {
      background: #fff;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 1px 3px rgba(0,0,0,0.12);
      cursor: pointer;
      transition: transform 0.2s;
      text-align: center;
      padding: 15px;
    }
    
    .service-card:hover {
      transform: translateY(-2px);
    }
    
    .service-icon {
      font-size: 32px;
      margin-bottom: 8px;
    }
    
    .service-title {
      font-size: 14px;
      font-weight: 600;
      color: #212121;
      margin-bottom: 4px;
    }
    
    .service-price {
      font-size: 12px;
      color: #C9A961;
      font-weight: 600;
    }
    
    .hero-banner {
      background: linear-gradient(135deg, #000 0%, #333 100%);
      color: #fff;
      padding: 16px;
      margin: 8px;
      border-radius: 12px;
      text-align: center;
    }
    
    .hero-title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 4px;
    }
    
    .hero-text {
      font-size: 12px;
      opacity: 0.9;
    }
    
    .quick-actions {
      padding: 8px;
      display: flex;
      gap: 8px;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }
    
    .action-button {
      flex: 0 0 auto;
      padding: 12px 20px;
      background: #000;
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      white-space: nowrap;
    }
    
    .section-label {
      padding: 16px 12px 8px;
      font-size: 16px;
      font-weight: 700;
      color: #000;
      text-align: center;
    }
    
    .chat-container {
      padding: 8px;
    }
    
    .chat-box {
      background: #fff;
      border-radius: 12px;
      padding: 12px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.12);
    }
    
    .chat-messages {
      height: 150px;
      overflow-y: auto;
      background: #f9f9f9;
      border-radius: 8px;
      padding: 10px;
      margin-bottom: 10px;
      display: flex;
      flex-direction: column;
    }
    
    .chat-message {
      padding: 8px;
      margin: 4px 0;
      border-radius: 8px;
      font-size: 12px;
      max-width: 80%;
    }
    
    .chat-message.bot {
      background: #e0e0e0;
      align-self: flex-start;
    }
    
    .chat-message.user {
      background: #000;
      color: white;
      align-self: flex-end;
      margin-left: auto;
    }
    
    .chat-input-container {
      display: flex;
      gap: 8px;
    }
    
    .chat-input {
      flex: 1;
      padding: 10px;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      font-size: 13px;
    }
    
    .chat-send {
      padding: 10px 20px;
      background: #000;
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
    }
    
    .bottom-nav {
      background: #fff;
      height: 56px;
      border-top: 1px solid #e0e0e0;
      display: flex;
      align-items: center;
      justify-content: space-around;
    }
    
    .nav-item {
      flex: 1;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: #757575;
      transition: all 0.2s;
    }
    
    .nav-item.active {
      color: #000;
    }
    
    .nav-label {
      font-size: 10px;
      font-weight: 500;
    }
    
    .fab {
      position: absolute;
      bottom: 70px;
      right: 16px;
      width: 56px;
      height: 56px;
      background: #000;
      color: #fff;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      cursor: pointer;
      font-size: 24px;
      z-index: 10;
    }
    
    .product-modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      z-index: 1000;
      width: 300px;
      display: none;
    }
    
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 999;
      display: none;
    }
    
    .add-to-cart {
      background: #C9A961;
      color: white;
      border: none;
      padding: 12px;
      border-radius: 8px;
      width: 100%;
      font-weight: 600;
      cursor: pointer;
      margin-top: 15px;
    }

    @media (max-width: 425px) {
      .phone-frame {
        width: 100%;
        height: 100vh;
        border-radius: 0;
        padding: 0;
      }
      
      .phone-screen {
        border-radius: 0;
      }
    }
  </style>
</head>
<body>
  <div class="phone-frame">
    <div class="phone-screen">
      
      <div class="app-bar">
        <div class="app-bar-title">Luminous Salon & Spa</div>
      </div>
      
      <div class="scaffold-body" id="mainView">
        
        <div class="hero-banner">
          <div class="hero-title">Welcome to Luminous</div>
          <div class="hero-text">Your premium salon experience</div>
        </div>
        
        <div class="quick-actions">
          <button class="action-button" onclick="bookService('hair')">üíá‚Äç‚ôÄÔ∏è Hair</button>
          <button class="action-button" onclick="bookService('nails')">üíÖ Nails</button>
          <button class="action-button" onclick="bookService('facial')">‚ú® Facial</button>
          <button class="action-button" onclick="bookService('massage')">üíÜ‚Äç‚ôÄÔ∏è Massage</button>
          <button class="action-button" onclick="bookNow()">üìÖ Book Now</button>
        </div>
        
        <div class="section-label">Our Services</div>
        <div class="grid-view">
          <div class="service-card" onclick="bookService('hair-color')">
            <div class="service-icon">üé®</div>
            <div class="service-title">Hair Color</div>
            <div class="service-price">From $120</div>
          </div>
          
          <div class="service-card" onclick="bookService('haircut')">
            <div class="service-icon">‚úÇÔ∏è</div>
            <div class="service-title">Haircut & Style</div>
            <div class="service-price">From $85</div>
          </div>
          
          <div class="service-card" onclick="bookService('facial')">
            <div class="service-icon">‚ú®</div>
            <div class="service-title">Facials</div>
            <div class="service-price">From $90</div>
          </div>
          
          <div class="service-card" onclick="bookService('manicure')">
            <div class="service-icon">üíÖ</div>
            <div class="service-title">Manicure</div>
            <div class="service-price">From $45</div>
          </div>
          
          <div class="service-card" onclick="bookService('waxing')">
            <div class="service-icon">‚≠ê</div>
            <div class="service-title">Waxing</div>
            <div class="service-price">From $35</div>
          </div>
          
          <div class="service-card" onclick="bookService('makeup')">
            <div class="service-icon">üíÑ</div>
            <div class="service-title">Makeup</div>
            <div class="service-price">From $75</div>
          </div>
          
          <div class="service-card" onclick="bookService('massage')">
            <div class="service-icon">üíÜ‚Äç‚ôÄÔ∏è</div>
            <div class="service-title">Massage</div>
            <div class="service-price">From $80</div>
          </div>
          
          <div class="service-card" onclick="showAllServices()">
            <div class="service-icon">üìã</div>
            <div class="service-title">View All</div>
            <div class="service-price">Services</div>
          </div>
        </div>
        
        <div class="section-label">Salon Products</div>
        <div class="grid-view">
          <div class="service-card" onclick="showProducts('Anti-Aging')">
            <div class="service-icon">üåü</div>
            <div class="service-title">Anti-Aging</div>
            <div class="service-price">Serums & Creams</div>
          </div>
          
          <div class="service-card" onclick="showProducts('Eye Care')">
            <div class="service-icon">üëÅÔ∏è</div>
            <div class="service-title">Eye Care</div>
            <div class="service-price">Treatments</div>
          </div>
          
          <div class="service-card" onclick="showProducts('Skin Care')">
            <div class="service-icon">üß¥</div>
            <div class="service-title">Skin Care</div>
            <div class="service-price">Essentials</div>
          </div>
          
          <div class="service-card" onclick="showProducts('all')">
            <div class="service-icon">üõçÔ∏è</div>
            <div class="service-title">All Products</div>
            <div class="service-price">Shop Now</div>
          </div>
        </div>
        
        <div class="section-label">Beauty Assistant</div>
        <div class="chat-container">
          <div class="chat-box">
            <div id="chatContainer" class="chat-messages">
              <div class="chat-message bot">
                Hi! I'm your beauty assistant. Ask me about services, products, or book an appointment!
              </div>
            </div>
            
            <div class="chat-input-container">
              <input id="chatInput" type="text" placeholder="Ask about services or products..." 
                     class="chat-input" onkeypress="if(event.key === 'Enter') sendChat()">
              <button onclick="sendChat()" class="chat-send">Send</button>
            </div>
          </div>
        </div>
        
        <div class="fab" onclick="openChat()">üí¨</div>
        
      </div>
      
      <div class="bottom-nav">
        <a class="nav-item active" onclick="goHome()">
          <span>üè†</span>
          <div class="nav-label">Home</div>
        </a>
        <a class="nav-item" onclick="showServices()">
          <span>‚ú®</span>
          <div class="nav-label">Services</div>
        </a>
        <a class="nav-item" onclick="showProducts('all')">
          <span>üõçÔ∏è</span>
          <div class="nav-label">Products</div>
        </a>
        <a class="nav-item" onclick="bookNow()">
          <span>üìÖ</span>
          <div class="nav-label">Book</div>
        </a>
      </div>
    </div>
  </div>

  <!-- Product Modal -->
  <div class="modal-overlay" id="modalOverlay" onclick="closeModal()"></div>
  <div class="product-modal" id="productModal">
    <h3 id="modalProductName">Product Name</h3>
    <p id="modalProductPrice">$0.00</p>
    <p id="modalProductDesc">Product description</p>
    <button class="add-to-cart" onclick="addToCart()">Add to Cart</button>
  </div>

  <script>
    // Salon Services Data
    const salonServices = {
      'hair-color': { name: 'Hair Coloring', price: 120, duration: '2 hours' },
      'haircut': { name: 'Haircut & Styling', price: 85, duration: '1 hour' },
      'facial': { name: 'Luxury Facial', price: 90, duration: '1.5 hours' },
      'manicure': { name: 'Manicure', price: 45, duration: '45 mins' },
      'waxing': { name: 'Waxing', price: 35, duration: '30 mins' },
      'makeup': { name: 'Professional Makeup', price: 75, duration: '1 hour' },
      'massage': { name: 'Relaxing Massage', price: 80, duration: '1 hour' }
    };

    // Current cart
    let cart = {
      services: [],
      products: [],
      total: 0
    };

    // Show products in modal
    async function showProducts(category) {
      try {
        let url = '/api/products';
        if (category !== 'all') {
          url += `?category=${encodeURIComponent(category)}`;
        }
        
        const response = await fetch(url);
        const data = await response.json();
        
        if (data.success && data.products && data.products.length > 0) {
          // Show first product in modal as example
          const product = data.products[0];
          showProductModal(product);
        } else {
          // Show in chat if no products
          addChatMessage('bot', `No products found in ${category} category. Ask about our services instead!`);
        }
      } catch (error) {
        console.error('Error loading products:', error);
        addChatMessage('bot', 'Sorry, having trouble loading products. Please try again.');
      }
    }

    // Show product modal
    function showProductModal(product) {
      document.getElementById('modalProductName').textContent = product.name;
      document.getElementById('modalProductPrice').textContent = `$${product.price.toFixed(2)}`;
      document.getElementById('modalProductDesc').textContent = product.description;
      
      document.getElementById('productModal').style.display = 'block';
      document.getElementById('modalOverlay').style.display = 'block';
    }

    // Close modal
    function closeModal() {
      document.getElementById('productModal').style.display = 'none';
      document.getElementById('modalOverlay').style.display = 'none';
    }

    // Add to cart
    function addToCart() {
      const productName = document.getElementById('modalProductName').textContent;
      const productPrice = parseFloat(document.getElementById('modalProductPrice').textContent.replace('$', ''));
      
      cart.products.push({ name: productName, price: productPrice });
      cart.total += productPrice;
      
      addChatMessage('bot', `Added ${productName} to your cart! Total: $${cart.total.toFixed(2)}`);
      closeModal();
    }

    // Book service
    function bookService(serviceId) {
      const service = salonServices[serviceId];
      if (service) {
        cart.services.push(service);
        cart.total += service.price;
        addChatMessage('bot', `Added ${service.name} to your booking! $${service.price} - ${service.duration}`);
      }
    }

    // Book now
    function bookNow() {
      if (cart.services.length > 0) {
        const serviceList = cart.services.map(s => `${s.name} (${s.duration}) - $${s.price}`).join('\n');
        addChatMessage('bot', `Ready to book!\n\nServices:\n${serviceList}\n\nTotal: $${cart.total.toFixed(2)}\n\nShall I proceed with booking?`);
      } else {
        addChatMessage('bot', 'Let me help you book an appointment! What service are you interested in?');
      }
    }

    // Chat functions
    function addChatMessage(type, message) {
      const chatContainer = document.getElementById('chatContainer');
      const messageDiv = document.createElement('div');
      messageDiv.className = `chat-message ${type}`;
      messageDiv.textContent = message;
      chatContainer.appendChild(messageDiv);
      chatContainer.scrollTop = chatContainer.scrollHeight;
    }

    function sendChat() {
      const input = document.getElementById('chatInput');
      const message = input.value.trim();
      
      if (!message) return;
      
      addChatMessage('user', message);
      input.value = '';
      
      // AI responses focused on salon services
      setTimeout(() => {
        const lowerMsg = message.toLowerCase();
        let response;
        
        if (lowerMsg.includes('book') || lowerMsg.includes('appointment')) {
          response = 'I can help you book! What service are you interested in? Hair, nails, facial, or massage?';
        } else if (lowerMsg.includes('hair')) {
          response = 'We offer haircuts, coloring, styling, and treatments. Prices start at $85. Want to book?';
        } else if (lowerMsg.includes('facial') || lowerMsg.includes('skin')) {
          response = 'Our facials start at $90. We use premium products for glowing skin!';
        } else if (lowerMsg.includes('product')) {
          response = 'We carry anti-aging serums, eye creams, and skincare essentials. Ask about specific products!';
        } else if (lowerMsg.includes('price') || lowerMsg.includes('cost')) {
          response = 'Hair: $85+, Facials: $90+, Nails: $45+, Massage: $80+. Want details on a specific service?';
        } else {
          response = 'How can I help with your salon experience today? Booking, products, or questions?';
        }
        
        addChatMessage('bot', response);
      }, 1000);
    }

    function openChat() {
      document.getElementById('chatInput').focus();
    }

    function goHome() {
      // Reset navigation
      document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
      document.querySelectorAll('.nav-item')[0].classList.add('active');
    }

    function showServices() {
      addChatMessage('bot', 'Our services: Hair coloring ($120), Haircuts ($85), Facials ($90), Manicures ($45), Waxing ($35), Makeup ($75), Massage ($80). What interests you?');
    }

    function showAllServices() {
      const servicesList = Object.values(salonServices).map(s => 
        `${s.name} - $${s.price} (${s.duration})`
      ).join('\n');
      addChatMessage('bot', `All Services:\n${servicesList}\n\nWhat would you like to book?`);
    }

    // Initialize chat
    document.addEventListener('DOMContentLoaded', function() {
      addChatMessage('bot', 'Welcome to Luminous Salon! How can I help you today?');
    });
  </script>
</body>
</html>
